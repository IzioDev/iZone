var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function a(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function c(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function u(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function g(t,e){e=""+e,t.data!==e&&(t.data=e)}let y;function f(t){y=t}const v=[],h=Promise.resolve();let N=!1;const $=[],b=[],z=[];function M(t){b.push(t)}function x(){const t=new Set;do{for(;v.length;){const t=v.shift();f(t),T(t.$$)}for(;$.length;)$.shift()();for(;b.length;){const e=b.pop();t.has(e)||(e(),t.add(e))}}while(v.length);for(;z.length;)z.pop()();N=!1}function T(t){t.fragment&&(t.update(t.dirty),s(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(M))}function w(t,e){t.$$.dirty||(v.push(t),N||(N=!0,h.then(x)),t.$$.dirty={}),t.$$.dirty[e]=!0}function k(o,l,r,c,i,p){const d=y;f(o);const u=l.props||{},m=o.$$={fragment:null,ctx:null,props:p,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let g=!1;var v;m.ctx=r?r(o,u,(t,e)=>{m.ctx&&i(m.ctx[t],m.ctx[t]=e)&&(m.bound[t]&&m.bound[t](e),g&&w(o,t))}):u,m.update(),g=!0,s(m.before_render),m.fragment=c(m.ctx),l.target&&(l.hydrate?m.fragment.l((v=l.target,Array.from(v.childNodes))):m.fragment.c(),l.intro&&o.$$.fragment.i&&o.$$.fragment.i(),function(t,n,o){const{fragment:l,on_mount:r,on_destroy:c,after_render:i}=t.$$;l.m(n,o),M(()=>{const n=r.map(e).filter(a);c?c.push(...n):s(n),t.$$.on_mount=[]}),i.forEach(M)}(o,l.target,l.anchor),x()),f(d)}class S{$destroy(){var e,n;n=!0,(e=this).$$&&(s(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Z(t,e,n){const s=Object.create(t);return s.zone=e[n],s.i=n,s}function C(e){var n,s,a,o,p,g,y,f,v,h,N,$;return{c(){n=i("div"),s=i("form"),(a=i("label")).textContent="Zone Name:",o=d(),p=i("input"),g=d(),(y=i("label")).textContent="Categorie Name:",f=d(),v=i("input"),h=d(),(N=i("p")).textContent="Save",a.htmlFor="name",m(p,"type","text"),p.id="name",p.name="name",p.placeholder="zoneName",y.htmlFor="cat",m(v,"type","text"),v.id="cat",v.name="cat",v.placeholder="catName",N.className="submit svelte-16g406y",s.id="save-form",s.name="save",s.className="svelte-16g406y",n.className="form svelte-16g406y",$=u(N,"click",e.plop)},m(t,e){r(t,n,e),l(n,s),l(s,a),l(s,o),l(s,p),l(s,g),l(s,y),l(s,f),l(s,v),l(s,h),l(s,N)},p:t,d(t){t&&c(n),$()}}}function D(t){var e,n,a,o,p,m,g,y,f,v,h,N,$,b,z,M,x,T,w,k,S,Z;function C(t){return t.isInUse?H:_}var D=C(t),P=D(t),U="manage"==t.currentDisp&&L(t),A="help"==t.currentDisp&&I(t),O="about"==t.currentDisp&&E(t);return{c(){e=i("div"),(n=i("p")).innerHTML='<i class="material-icons center red clickable md-48 svelte-16g406y">close</i>',a=d(),(o=i("p")).textContent="iZone v1.3",p=d(),(m=i("p")).textContent="Admin panel",g=d(),y=i("hr"),f=d(),v=i("div"),h=i("div"),(N=i("p")).innerHTML='<i class="material-icons center svelte-16g406y">pageview</i> Manage Zones',$=d(),P.c(),b=d(),(z=i("p")).innerHTML='<i class="material-icons center svelte-16g406y">help</i> Help',M=d(),(x=i("p")).innerHTML='<i class="material-icons center svelte-16g406y">info</i> About',T=d(),w=i("div"),U&&U.c(),k=d(),A&&A.c(),S=d(),O&&O.c(),n.className="close svelte-16g406y",o.className="infos svelte-16g406y",m.className="title svelte-16g406y",y.className="infos-sep svelte-16g406y",N.id="manage",N.className="item-menu svelte-16g406y",z.id="help",z.className="item-menu svelte-16g406y",x.id="about",x.className="item-menu svelte-16g406y",h.className="menu svelte-16g406y",w.className="display svelte-16g406y",v.className="content svelte-16g406y",e.className="container svelte-16g406y",Z=[u(n,"click",t.close),u(N,"click",t.switchTabTo),u(z,"click",t.switchTabTo),u(x,"click",t.switchTabTo)]},m(t,s){r(t,e,s),l(e,n),l(e,a),l(e,o),l(e,p),l(e,m),l(e,g),l(e,y),l(e,f),l(e,v),l(v,h),l(h,N),l(h,$),P.m(h,null),l(h,b),l(h,z),l(h,M),l(h,x),l(v,T),l(v,w),U&&U.m(w,null),l(w,k),A&&A.m(w,null),l(w,S),O&&O.m(w,null)},p(t,e){D===(D=C(e))&&P?P.p(t,e):(P.d(1),(P=D(e))&&(P.c(),P.m(h,b))),"manage"==e.currentDisp?U?U.p(t,e):((U=L(e)).c(),U.m(w,k)):U&&(U.d(1),U=null),"help"==e.currentDisp?A||((A=I(e)).c(),A.m(w,S)):A&&(A.d(1),A=null),"about"==e.currentDisp?O||((O=E(e)).c(),O.m(w,null)):O&&(O.d(1),O=null)},d(t){t&&c(e),P.d(),U&&U.d(),A&&A.d(),O&&O.d(),s(Z)}}}function _(e){var n,s;return{c(){(n=i("p")).innerHTML='<i class="material-icons center svelte-16g406y">add_circle</i> Create Zone',n.id="add",n.className="item-menu svelte-16g406y",s=u(n,"click",e.createZone)},m(t,e){r(t,n,e)},p:t,d(t){t&&c(n),s()}}}function H(e){var n,a,o,l;return{c(){(n=i("p")).innerHTML='<i class="material-icons center svelte-16g406y">delete</i> Stop Zone Creation',a=d(),(o=i("p")).innerHTML='<i class="material-icons center svelte-16g406y">save</i> Save Zone',n.id="add",n.className="item-menu svelte-16g406y",o.id="add",o.className="item-menu svelte-16g406y",l=[u(n,"click",e.stopZone),u(o,"click",e.saveZone)]},m(t,e){r(t,n,e),r(t,a,e),r(t,o,e)},p:t,d(t){t&&(c(n),c(a),c(o)),s(l)}}}function L(t){for(var e,n,s,a,o,p,u,m=t.zones,g=[],y=0;y<m.length;y+=1)g[y]=P(Z(t,m,y));return{c(){e=i("div"),(n=i("h2")).textContent="Manage Zones",s=d(),a=i("table"),(o=i("thead")).innerHTML='<tr><td class="svelte-16g406y">\n\t\t\t\t\t\t\t\t\t\t\t\tCategorie\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="svelte-16g406y">\n\t\t\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="svelte-16g406y">\n\t\t\t\t\t\t\t\t\t\t\t\tCenter\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="svelte-16g406y">\n\t\t\t\t\t\t\t\t\t\t\t\tTP\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="svelte-16g406y">\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</td></tr>',p=d(),u=i("tbody");for(var t=0;t<g.length;t+=1)g[t].c();n.className="svelte-16g406y",o.className="svelte-16g406y",a.className="center svelte-16g406y",e.className="center svelte-16g406y"},m(t,c){r(t,e,c),l(e,n),l(e,s),l(e,a),l(a,o),l(a,p),l(a,u);for(var i=0;i<g.length;i+=1)g[i].m(u,null)},p(t,e){if(t.zones||t.deleteSelected||t.tpToSelected){m=e.zones;for(var n=0;n<m.length;n+=1){const s=Z(e,m,n);g[n]?g[n].p(t,s):(g[n]=P(s),g[n].c(),g[n].m(u,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}},d(t){t&&c(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(g,t)}}}function P(t){var e,n,a,o,m,y,f,v,h,N,$,b,z,M,x,T,w,k,S,Z,C,D,_,H=t.zone.cat,L=t.zone.name,P=t.zone.center.x,I=t.zone.center.y,E=t.zone.center.z;return{c(){e=i("tr"),n=i("td"),a=p(H),o=d(),m=i("td"),y=p(L),f=d(),v=i("td"),h=p("x: "),N=p(P),$=p(" y: "),b=p(I),z=p(" z: "),M=p(E),x=d(),T=i("td"),(w=i("i")).textContent="play_arrow",k=d(),S=i("td"),Z=i("i"),C=p("delete_forever"),n.className="svelte-16g406y",m.className="svelte-16g406y",v.className="svelte-16g406y",w.id=t.i,w.className="material-icons center clickable md-48 svelte-16g406y",T.className="svelte-16g406y",Z.id=D=t.zone.id,Z.className="material-icons center red clickable md-48 svelte-16g406y",S.className="svelte-16g406y",_=[u(w,"click",t.tpToSelected),u(Z,"click",t.deleteSelected)]},m(t,s){r(t,e,s),l(e,n),l(n,a),l(e,o),l(e,m),l(m,y),l(e,f),l(e,v),l(v,h),l(v,N),l(v,$),l(v,b),l(v,z),l(v,M),l(e,x),l(e,T),l(T,w),l(e,k),l(e,S),l(S,Z),l(Z,C)},p(t,e){t.zones&&H!==(H=e.zone.cat)&&g(a,H),t.zones&&L!==(L=e.zone.name)&&g(y,L),t.zones&&P!==(P=e.zone.center.x)&&g(N,P),t.zones&&I!==(I=e.zone.center.y)&&g(b,I),t.zones&&E!==(E=e.zone.center.z)&&g(M,E),t.zones&&D!==(D=e.zone.id)&&(Z.id=D)},d(t){t&&c(e),s(_)}}}function I(t){var e;return{c(){(e=i("div")).innerHTML='<h2 class="svelte-16g406y">Help</h2>\n\t\t\t\t\t\t\t\t\t<p>To create a Zone, click on <span class="orange svelte-16g406y">Create Zone</span> button. Add point by pressing the <span class="orange svelte-16g406y">[L]</span> key. If you failed and you\n\t\t\t\t\t\t\t\t\twant to remove the last point, press <span class="orange svelte-16g406y">[K]</span>.</p>\n\t\t\t\t\t\t\t\t\t<p>When you have finish, open up the admin panel: <span class="orange svelte-16g406y">[E]</span> and click <span class="orange svelte-16g406y">Save Zone</span>. If you want to stop the creation, click <span class="orange svelte-16g406y">Stop Zone Creation</span></p>\n\t\t\t\t\t\t\t\t\t<p>A prompt will open, you\'ll have to enter a name and a categorie.</p>',e.className="center svelte-16g406y"},m(t,n){r(t,e,n)},d(t){t&&c(e)}}}function E(t){var e;return{c(){(e=i("div")).innerHTML='<h2 class="svelte-16g406y">About</h2>\n\t\t\t\t\t\t\t\t\t<p><span class="orange svelte-16g406y">iZone</span> is made by Izio to help developper and server administrators to create polygonal 2D zones.</p>\n\t\t\t\t\t\t\t\t\t<p>If you want to <span class="orange svelte-16g406y">contribute</span> to this project, go on fivem.net forum, and follow the GitHub link.</p>\n\t\t\t\t\t\t\t\t\t<p>Feel free to <span class="orange svelte-16g406y">report bug</span> or <span class="orange svelte-16g406y">suggest new features</span>!</p>',e.className="center svelte-16g406y"},m(t,n){r(t,e,n)},d(t){t&&c(e)}}}function U(e){var n,s,a,o=e.displayPrompt&&C(e),l=e.displayMenu&&D(e);return{c(){o&&o.c(),n=d(),l&&l.c(),s=p(""),a=u(window,"message",e.handleMessage)},m(t,e){o&&o.m(t,e),r(t,n,e),l&&l.m(t,e),r(t,s,e)},p(t,e){e.displayPrompt?o?o.p(t,e):((o=C(e)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),e.displayMenu?l?l.p(t,e):((l=D(e)).c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:t,o:t,d(t){o&&o.d(t),t&&c(n),l&&l.d(t),t&&c(s),a()}}}function A(t,e){var n=new XMLHttpRequest;n.open("POST",`http://izone/${t}`,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(JSON.stringify(e))}function O(t,e,n){let{name:s,displayMenu:a=!1,displayPrompt:o=!1,currentDisp:l="help",isInUse:r=!1,points:c=[],zones:i=[]}=e;return t.$set=(t=>{"name"in t&&n("name",s=t.name),"displayMenu"in t&&n("displayMenu",a=t.displayMenu),"displayPrompt"in t&&n("displayPrompt",o=t.displayPrompt),"currentDisp"in t&&n("currentDisp",l=t.currentDisp),"isInUse"in t&&n("isInUse",r=t.isInUse),"points"in t&&n("points",c=t.points),"zones"in t&&n("zones",i=t.zones)}),{name:s,displayMenu:a,displayPrompt:o,currentDisp:l,isInUse:r,points:c,zones:i,close:function(t){n("displayMenu",a=!1),A("close",{})},handleMessage:function(t){console.log(JSON.stringify(t.data)),t.data.openMenu?(n("displayMenu",a=!0),n("isInUse",r=t.data.isInUse),n("points",c=t.data.points),n("zones",i=t.data.zones),console.log(i)):t.data.openPrompt&&n("displayPrompt",o=!0)},switchTabTo:function(t){n("currentDisp",l=t.toElement.id)},tpToSelected:function(t){let e=t.toElement.id;A("tp",i[e].center),n("displayMenu",a=!1)},deleteSelected:function(t){A("delete",{id:t.toElement.id}),n("displayMenu",a=!1)},createZone:function(t){A("create",{}),n("displayMenu",a=!1)},stopZone:function(t){A("stop",{}),n("displayMenu",a=!1)},saveZone:function(t){c.length<=2?A("checkSave",{error:!0}):A("checkSsave",{error:!1}),n("displayMenu",a=!1)},plop:function(t){var e=document.querySelector("#save-form"),s=new FormData(e);let a=s.get("name"),l=s.get("cat");0==a.length||0==l.length?A("error",{message:"Don't let fields empty"}):-1!=a.indexOf(" ")||-1!=l.indexOf(" ")?A("error",{message:"Fields can't contains whitespace"}):(A("save",{name:a,cat:l}),n("displayPrompt",o=!1))}}}return new class extends S{constructor(t){super(),k(this,t,O,U,o,["name","displayMenu","displayPrompt","currentDisp","isInUse","points","zones"])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
